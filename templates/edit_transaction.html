{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header bg-warning text-dark">
        <h4>‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h4>
    </div>
    <div class="card-body">
        <form method="POST" action="{{ url_for('edit_transaction', transaction_id=transaction._id) }}">
            <div class="row g-3">
                <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Agent ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
                <div class="col-md-6">
                    <label class="form-label">üîñ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Agent</label>
                    <select class="form-select" name="agent" required>
                        <option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Agent --</option>
                        {% for agent in agents %}
                        <option value="{{ agent.name }}" 
                                {% if agent.name == transaction.agent %}selected{% endif %}>
                            {{ agent.name }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="col-md-6">
                    <label class="form-label">üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label>
                    <input type="date" class="form-control" name="date" required 
                           value="{{ transaction.date.strftime('%Y-%m-%d') }}">
                </div>

                <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô -->
                <div class="col-md-4">
                    <label class="form-label">üë• ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</label>
                    <input type="number" class="form-control" name="new_members" min="0" required 
                           value="{{ transaction.new_members }}">
                </div>
                
                <div class="col-md-4">
                    <label class="form-label">üë• ‡∏ù‡∏≤‡∏Å‡πÅ‡∏•‡πâ‡∏ß</label>
                    <input type="number" class="form-control" name="first_deposit" step="0.01" min="0" required 
                           value="{{ transaction.first_deposit }}">
                </div>

                <div class="col-md-4">
                    <label class="form-label">üí≥ ‡∏ù‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏£‡∏ß‡∏°</label>
                    <input type="number" class="form-control" name="all_deposit" step="0.01" min="0" required 
                           value="{{ transaction.all_deposit }}">
                </div>
                
                <div class="col-md-4">
                    <label class="form-label">üìä ‡πÅ‡∏≠‡∏Ñ‡∏ó‡∏µ‡∏ü</label>
                    <input type="number" class="form-control" name="used" min="0" required 
                           value="{{ transaction.used }}">
                </div>
                <div class="col-md-4">
                    <label class="form-label">üî∫ Total THB ‡∏ä‡∏ô‡∏∞/‡πÅ‡∏û‡πâ</label>
                    <input type="number" class="form-control" name="profit_thb" step="0.01" required 
                           value="{{ transaction.profit_thb }}">
                </div>
                <div class="col-md-4">
                    <label class="form-label">üî∫ Total USDT ‡∏ä‡∏ô‡∏∞/‡πÅ‡∏û‡πâ</label>
                    <input type="number" class="form-control" name="profit_usdt" step="0.01" required 
                           value="{{ transaction.profit_usdt }}">
                </div>
                <div class="col-md-4">
                    <label class="form-label">üü¢ DB</label>
                    <input type="number" class="form-control" name="db" step="0.01" min="0" required 
                           value="{{ transaction.db }}">
                </div>

                <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô -->
                <div class="col-12 mt-4 border-top pt-3">
                    <h5 class="text-primary">üí∏ ‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô</h5>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">KBANK</label>
                            <input type="number" class="form-control" name="kbank_deposit" step="0.01" min="0" required 
                                   value="{{ transaction.kbank_deposit }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">K-BIZ</label>
                            <input type="number" class="form-control" name="kbiz_deposit" step="0.01" min="0" required 
                                   value="{{ transaction.kbiz_deposit }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">SCB</label>
                            <input type="number" class="form-control" name="scb1_deposit" step="0.01" min="0" required 
                                   value="{{ transaction.scb1_deposit }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">SCB</label>
                            <input type="number" class="form-control" name="scb2_deposit" step="0.01" min="0" required 
                                   value="{{ transaction.scb2_deposit }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">TRUE Wallet</label>
                            <input type="number" class="form-control" name="true_deposit" step="0.01" min="0" required 
                                   value="{{ transaction.true_deposit }}">
                        </div>
                    </div>
                </div>

                <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô -->
                <div class="col-12 mt-4 border-top pt-3">
                    <h5 class="text-danger">üìµ ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</h5>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">KBANK</label>
                            <input type="number" class="form-control" name="kbank_withdrawal" step="0.01" min="0" required 
                                   value="{{ transaction.kbank_withdrawal }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">K-BIZ</label>
                            <input type="number" class="form-control" name="kbiz_withdrawal" step="0.01" min="0" required 
                                   value="{{ transaction.kbiz_withdrawal }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">SCB</label>
                            <input type="number" class="form-control" name="scb1_withdrawal" step="0.01" min="0" required 
                                   value="{{ transaction.scb1_withdrawal }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">SCB</label>
                            <input type="number" class="form-control" name="scb2_withdrawal" step="0.01" min="0" required 
                                   value="{{ transaction.scb2_withdrawal }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">TRUE Wallet</label>
                            <input type="number" class="form-control" name="true_withdrawal" step="0.01" min="0" required 
                                   value="{{ transaction.true_withdrawal }}">
                        </div>
                    </div>
                </div>

                <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô -->
                <div class="col-12 mt-4 border-top pt-3">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">‡πÄ‡∏ï‡∏¥‡∏°‡∏°‡∏∑‡∏≠</label>
                            <input type="number" class="form-control" name="mobile_deposit" step="0.01" min="0" required 
                                   value="{{ transaction.mobile_deposit }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">üíº ‡∏ñ‡∏≠‡∏ô‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≠‡∏°</label>
                            <input type="number" class="form-control" name="commission" step="0.01" min="0" required 
                                   value="{{ transaction.commission }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">üéÅ ‡πÇ‡∏ö‡∏ô‡∏±‡∏™</label>
                            <input type="number" class="form-control" name="bonus" step="0.01" min="0" required 
                                   value="{{ transaction.bonus }}">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">üè¶ ‡πÇ‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å</label>
                            <input type="number" class="form-control" name="transfer" step="0.01" min="0" required 
                                   value="{{ transaction.transfer }}">
                        </div>
                    </div>
                </div>

                <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
                <div class="col-12 mt-4">
                    <button type="submit" class="btn btn-warning btn-lg w-100">
                        üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}